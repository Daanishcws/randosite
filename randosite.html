<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personalized Story Experience</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            color: #333;
            background-color: #f7f7f7;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            margin-top: 0;
        }
        .welcome {
            background-color: #ebf5fb;
            border-left: 5px solid #3498db;
            padding: 15px 20px;
            margin-bottom: 30px;
            border-radius: 0 5px 5px 0;
        }
        .welcome span {
            font-weight: bold;
            color: #2980b9;
        }
        .story {
            background-color: #fbfbfb;
            padding: 25px;
            border-radius: 5px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05);
        }
        .story-title {
            color: #34495e;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        p {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="page-title">Your Personalized Experience</h1>
        
        <div class="welcome" id="welcome-message">
            Welcome! Your personalized experience is loading...
        </div>
        
        <div class="story">
            <h2 class="story-title" id="story-title">Your Story</h2>
            <div id="story-content">
                <p>Your story is being prepared...</p>
            </div>
        </div>
    </div>

    <script>
        // Run on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Website titles
            var titles = [
                "Whispers of Imagination",
                "Tales Untold",
                "The Random Chronicles",
                "Narrative Roulette",
                "Story Spinner"
            ];
            
            // Simulated cities
            var cities = [
                "New York", "London", "Tokyo", "Paris", "Sydney"
            ];
            
            // Simulated weather conditions
            var weathers = [
                "sunny", "partly cloudy", "rainy", "windy", "foggy"
            ];
            
            // Four stories
            var stories = [
                {
                    title: "New Horizons: Alex's Overseas Adventure",
                    content: "<p>Alex stared at his laptop screen, still unable to believe the email he'd just received. A gaming studio in Tokyo had accepted his application for a game design internship. In just three weeks, he'd be living in Japan—a dream he'd had since he was twelve.</p><p>The reality of his new life hit him the moment he unlocked the door to his shared apartment in Shinjuku. His roommate, Kenji, a local game developer who worked at the same studio, greeted him with enthusiasm and a fridge full of strange but fascinating foods.</p><p>\"Settling in might be tough at first,\" Kenji warned on that first night as they sat on the small balcony overlooking the neon-lit streets below. \"But the good days make the hard ones worth it.\"</p><p>The first month proved Kenji right. Alex struggled with the language barrier, getting lost on the subway, and working in a creative environment where cultural references often flew over his head. His game concepts, which had seemed so innovative back home, were met with polite but confused looks from his Japanese colleagues.</p>"
                },
                {
                    title: "Finding Her Fight: Mei's Martial Arts Journey",
                    content: "<p>Mei Li closed the door to her apartment, dropped her gym bag on the floor, and flopped onto her couch with a groan. Her two cats—Ghost, a sleek white Siamese, and Shadow, a plump black domestic shorthair—immediately converged on her, purring and demanding attention despite her exhaustion.</p><p>\"Some support system you are,\" she murmured affectionately, scratching Ghost behind the ears. \"I just got my butt kicked for two hours straight, and all you care about is dinner.\"</p><p>For the past three months, Mei had been sampling different martial arts disciplines, searching for one that resonated with her on a deeper level. Today's Brazilian Jiu-Jitsu class had left her with sore muscles and a bruised ego. Last week's Muay Thai session had been similarly humbling.</p><p>Her passion for martial arts had been ignited during college, where she'd taken a women's self-defense course that awakened something within her—a combination of discipline, physical challenge, and philosophical depth that spoke to her analytical mind.</p>"
                },
                {
                    title: "Controlled Chaos: Lily's Clean Freak Chronicles",
                    content: "<p>Lily Chen stood in the doorway of her apartment, keys still in hand, frozen in horror at the scene before her. What had been an immaculately clean living room just hours ago now resembled the aftermath of a small tornado. Chip bags and soda cans littered her coffee table, someone's jacket was thrown over her carefully arranged decorative pillows, and was that—yes, that was definitely a pizza grease stain on her white area rug.</p><p>\"Sorry about the mess!\" called Jamie from the kitchen, where the sound of clattering dishes suggested even more chaos out of sight. \"Game night got a little competitive.\"</p><p>Lily took a deep breath, counting to ten as her therapist had suggested for moments exactly like this. Game night. Right. She'd agreed to host her friends' weekly gathering, forgetting that her definition of \"having a few people over\" differed dramatically from her friends' understanding of the same concept.</p><p>\"We saved you some pizza,\" said Morgan, emerging from the bathroom with wet hands that she was currently drying on her jeans rather than the carefully selected hand towels that Lily had placed there specifically for guests.</p>"
                },
                {
                    title: "Midnight Gamer: Zoe's Late Night Adventures",
                    content: "<p>The soft glow of Zoe's monitor illuminated her face as her fingers danced across the keyboard. A quick glance at the corner of her screen confirmed it was well past midnight, but the raid wasn't going to complete itself. Her guild was counting on her, and she wasn't about to let them down just because it was a school night.</p><p>A sudden weight landed on her desk, followed by the unmistakable sound of items being knocked to the floor. \"Pixel! Not now,\" Zoe hissed, gently moving her tortoiseshell cat away from the keyboard. Pixel responded by flopping directly in front of the monitor, her tail swishing dangerously close to Zoe's mouse.</p><p>\"Move, you little monster,\" Zoe whispered affectionately, relocating the cat to her lap where she could do less damage. Through her headphones, she could hear her teammates laughing.</p><p>\"Cat attack again?\" asked her friend Darius, his voice clear through the voice chat.</p>"
                }
            ];
            
            // Very simple pseudorandom number generator
            function getSimpleRandom() {
                // Use timestamp and screen dimensions for some randomness
                var seed = new Date().getTime() + (screen.width || 1000) + (screen.height || 800);
                // Get current day to keep consistent for same visitor
                seed += new Date().getDate();
                // Make it positive
                return Math.abs(seed);
            }
            
            try {
                // Generate a simple random number
                var randomSeed = getSimpleRandom();
                
                // Get indices for personalization
                var titleIndex = randomSeed % titles.length;
                var cityIndex = (randomSeed + 1) % cities.length;
                var weatherIndex = (randomSeed + 2) % weathers.length;
                var storyIndex = (randomSeed + 3) % stories.length;
                
                // Set page title
                var pageTitle = titles[titleIndex];
                document.getElementById('page-title').textContent = pageTitle;
                document.title = pageTitle;
                
                // Determine device type
                var deviceType = "computer";
                if (/Mobi|Android|iPhone/i.test(navigator.userAgent)) {
                    deviceType = "mobile device";
                } else if (/iPad|Tablet/i.test(navigator.userAgent)) {
                    deviceType = "tablet";
                }
                
                // Determine browser type (simplified)
                var browserName = "browser";
                if (navigator.userAgent.indexOf("Chrome") > -1) browserName = "Chrome";
                if (navigator.userAgent.indexOf("Firefox") > -1) browserName = "Firefox";
                if (navigator.userAgent.indexOf("Safari") > -1) browserName = "Safari";
                if (navigator.userAgent.indexOf("Edge") > -1) browserName = "Edge";
                
                // Set welcome message
                document.getElementById('welcome-message').innerHTML = 
                    "<p>Thank you for opening this website from your <span>" + deviceType + "</span> in <span>" + 
                    cities[cityIndex] + "</span>, where it's currently <span>" + 
                    weathers[weatherIndex] + "</span>.</p>" + 
                    "<p>We see you're browsing with <span>" + browserName + "</span>. We've prepared a custom story just for you!</p>";
                
                // Set story
                document.getElementById('story-title').textContent = stories[storyIndex].title;
                document.getElementById('story-content').innerHTML = stories[storyIndex].content;
                
            } catch (error) {
                // Fallback if anything goes wrong
                document.getElementById('welcome-message').innerHTML = "<p>Welcome to your personalized story experience!</p>";
                document.getElementById('story-title').textContent = "New Horizons: Alex's Overseas Adventure";
                document.getElementById('story-content').innerHTML = stories[0].content;
            }
        });
    </script>
</body>
</html>
